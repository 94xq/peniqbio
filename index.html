<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Peniq Profile</title>

<link rel="stylesheet" type="text/css" href="styles.css"> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<link rel="icon" type="image/x-icon" href="./assets/favico/default.ico">

<style>
/* Custom Cursor */
body {
    cursor: url("./assets/cursor/pointer.png") 8 8, auto;
}

/* Smooth cursor follow dot */
#cursor-dot {
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    transform: translate(-50%, -50%);
    transition: transform 0.12s linear;
    z-index: 1000;
}

/* Snow/rain canvas */
#effects-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
}
</style>

</head>
<body>

<!-- Smooth cursor dot -->
<div id="cursor-dot"></div>

<!-- Effects Canvas -->
<canvas id="effects-canvas"></canvas>

<!-- Background + Profile -->
<div id="video-background">
    <video autoplay muted loop id="myVideo">
      <source src="./assets/back/default.mp4" type="video/mp4">
    </video>

    <audio autoplay loop id="myAudio">
        <source src="./assets/music/default.mp3" type="audio/mpeg">
    </audio>

    <div id="blurred-box">
        <img id="profile-picture" src="./assets/pfp/default.jpg" alt="">

        <p id="username" style="color: white; font-weight: bold; font-size: large;">
            vebe
        </p>

        <div class="user-description">
            <p id="user-description" style="color: white;"></p>
        </div>

        <div class="links">
            <!-- Removed soundcloud -->
            <a href="https://github.com/94xq" target="_blank"><i class="fab fa-github"></i></a>
            <a href="https://www.paypal.com/paypalme/oixl" target="_blank"><i class="fa-brands fa-paypal"></i></a>
        </div>
    </div>
</div>

<!-- Smooth cursor follow script -->
<script>
const dot = document.getElementById("cursor-dot");
document.addEventListener("mousemove", e => {
    dot.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
});
</script>

<!-- Auto-play audio fix -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const audio = document.getElementById("myAudio");
    audio.play().catch(() => {
        document.body.addEventListener("click", () => audio.play(), { once: true });
    });
});
</script>

<!-- Snow + Rain Effect -->
<script>
const canvas = document.getElementById("effects-canvas");
const ctx = canvas.getContext("2d");

let snow = [];
let rain = [];

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

function createSnowflake() {
    return {
        x: Math.random() * canvas.width,
        y: -10,
        size: Math.random() * 3 + 1.5,
        speed: Math.random() * 0.8 + 0.2,
        drift: Math.random() * 0.6 - 0.3
    };
}

function createRainDrop() {
    return {
        x: Math.random() * canvas.width,
        y: -10,
        length: Math.random() * 20 + 10,
        speed: Math.random() * 4 + 3
    };
}

function updateEffects() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    if (snow.length < 120) snow.push(createSnowflake());
    if (rain.length < 80) rain.push(createRainDrop());

    snow.forEach((flake, i) => {
        flake.y += flake.speed;
        flake.x += flake.drift;

        ctx.beginPath();
        ctx.arc(flake.x, flake.y, flake.size, 0, Math.PI * 2);
        ctx.fillStyle = "white";
        ctx.fill();

        if (flake.y > canvas.height) snow.splice(i, 1);
    });

    ctx.strokeStyle = "rgba(180,180,255,0.6)";
    ctx.lineWidth = 1.2;
    rain.forEach((drop, i) => {
        drop.y += drop.speed;

        ctx.beginPath();
        ctx.moveTo(drop.x, drop.y);
        ctx.lineTo(drop.x, drop.y + drop.length);
        ctx.stroke();

        if (drop.y > canvas.height) rain.splice(i, 1);
    });

    requestAnimationFrame(updateEffects);
}

updateEffects();
</script>

<script src="./assets/js/script.js"></script>
<script src="./assets/js/title.js"></script>

</body>
</html>
